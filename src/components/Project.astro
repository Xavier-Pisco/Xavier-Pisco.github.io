---
import type { CollectionEntry } from 'astro:content';
import Github from '../icons/github.astro';
import InfoBox from './InfoBox.astro';
import { encode } from 'html-entities';
interface Props {
  project: CollectionEntry<'projects'>;
}
const { project } = Astro.props;
---

<InfoBox>
  <img
    slot="image"
    src={project.data.image}
    class="h-96 w-96"
    height="400px"
    width="400px"
  />
  <Fragment slot="title">
    <h2>
      <span class="text-blue">{project.data.title}</span> - {
        project.data.subtitle
      }
    </h2>
    <div class="flex flex-row gap-4">
      {
        project.data.link && (
          <a href={project.data.link} target="_blank">
            Try it!
          </a>
        )
      }
      <Github link={project.data.github} color="gray" />
    </div>
  </Fragment>
  <Fragment slot="top-right">
    <p>{project.data.startDate}-{project.data.endDate}</p>
    <p>{project.data.group}</p>
  </Fragment>
  <Fragment slot="box-body-li">
    {
      project.body
        .split('\n')
        .filter((line) => line != '')
        .map((line) => <li>{line}</li>)
    }
  </Fragment>
  <Fragment slot="tags">
    {
      project.data.tags.map((tag) => (
        <li class="text-blue border-gray-light border rounded-md shadow p-2">
          {tag}
        </li>
      ))
    }
  </Fragment>
</InfoBox>
